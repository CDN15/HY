PnchzmStrt=false;PnchzmMv=false;SAVESCL=1;VVVVX1=0;VVVVY1=0;Touch2LastMoveX=0;Touch2LastMoveY=0;document.addEventListener('touchmove',(e)=>{if(e.touches.length>1){e.preventDefault()}},{passive:false});if(SpnDtLghtbxChck==true){SLbOvrly.addEventListener("touchstart",(e)=>{if(e.touches.length!=1)return;if(e.touches[0].target.tagName!="IMG")return;PnchzmRady=true});QsHtml.addEventListener("touchend",(e)=>{if(PnchzmRady!=true)return;PnchzmRady=false});QsHtml.addEventListener('touchstart',(e)=>{if(e.touches.length!=2)return;if(SLbMvClsRun==true)return;if(PnchzmRady!=true)return;PnchzmStrt=true;StrtDstncXY=Math.hypot(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY);SwprActvReDclrtn();LightboxSwiper.allowSlideNext=false;LightboxSwiper.allowSlidePrev=false;PnchZmSwprHght1=document.querySelector("#SLbOvrly .swiper").getBoundingClientRect().height;PnchZmSwprWdth1=document.querySelector("#SLbOvrly .swiper").getBoundingClientRect().width;PnchZmSwprTp1=document.querySelector("#SLbOvrly .swiper").getBoundingClientRect().top;PnchZmSwprBttm1=document.querySelector("#SLbOvrly .swiper").getBoundingClientRect().bottom;PnchZmSwprLft1=document.querySelector("#SLbOvrly .swiper").getBoundingClientRect().left;PnchZmSwprRght1=document.querySelector("#SLbOvrly .swiper").getBoundingClientRect().right;PnchZmSwprActvImgHght1=SwprActvImg.getBoundingClientRect().height;PnchZmSwprActvImgWdth1=SwprActvImg.getBoundingClientRect().width;PnchZmSwprActvImgTp1=SwprActvImg.getBoundingClientRect().top;PnchZmSwprActvImgBttm1=SwprActvImg.getBoundingClientRect().bottom;PnchZmSwprActvImgLft1=SwprActvImg.getBoundingClientRect().left;PnchZmSwprActvImgRght1=SwprActvImg.getBoundingClientRect().right;if(SLbZmMvMsDrg==true){VVVVX1=-Touch1LastMoveX;VVVVY1=-Touch1LastMoveY};PnchZmTch2CntrStartX=(e.touches[0].clientX+e.touches[1].clientX)/2 ;PnchZmTch2CntrStartY=(e.touches[0].clientY+e.touches[1].clientY)/2 },{passive:false});SLbOvrly.addEventListener('touchmove',(e)=>{if(e.touches.length!=2)return;if(PnchzmStrt==false)return;PnchzmMv=true;NwDstncXY=Math.hypot(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY);ZmScl=Math.min(Math.max(0,(NwDstncXY / StrtDstncXY)*SAVESCL),3);SwprActvImg.style.setProperty("transform","scale("+ZmScl+")");PnchZmSwprHght2=document.querySelector("#SLbOvrly .swiper").getBoundingClientRect().height;PnchZmSwprWdth2=document.querySelector("#SLbOvrly .swiper").getBoundingClientRect().width;PnchZmSwprTp2=document.querySelector("#SLbOvrly .swiper").getBoundingClientRect().top;PnchZmSwprBttm2=document.querySelector("#SLbOvrly .swiper").getBoundingClientRect().bottom;PnchZmSwprLft2=document.querySelector("#SLbOvrly .swiper").getBoundingClientRect().left;PnchZmSwprRght2=document.querySelector("#SLbOvrly .swiper").getBoundingClientRect().right;PnchZmSwprActvImgHght2=SwprActvImg.getBoundingClientRect().height;PnchZmSwprActvImgWdth2=SwprActvImg.getBoundingClientRect().width;PnchZmSwprActvImgTp2=SwprActvImg.getBoundingClientRect().top;PnchZmSwprActvImgBttm2=SwprActvImg.getBoundingClientRect().bottom;PnchZmSwprActvImgLft2=SwprActvImg.getBoundingClientRect().left;PnchZmSwprActvImgRght2=SwprActvImg.getBoundingClientRect().right;PnchZmTch2CntrChangingX=(e.touches[0].clientX+e.touches[1].clientX)/2 ;PnchZmSwprActvImgCntrX=PnchZmSwprActvImgLft2+PnchZmSwprActvImgWdth2/2 ;PnchZmTch2CntrDistanceX=PnchZmTch2CntrChangingX-PnchZmTch2CntrStartX;VVVVX1=VVVVX1+(PnchZmTch2CntrChangingX-PnchZmSwprActvImgCntrX)/PnchZmSwprActvImgWdth1*(PnchZmSwprActvImgWdth2-PnchZmSwprActvImgWdth1);VVVVX2=-VVVVX1+PnchZmTch2CntrDistanceX ;PnchZmTch2CntrChangingY=(e.touches[0].clientY+e.touches[1].clientY)/2 ;PnchZmSwprActvImgCntrY=PnchZmSwprActvImgTp2+PnchZmSwprActvImgHght2/2 ;PnchZmTch2CntrDistanceY=PnchZmTch2CntrChangingY-PnchZmTch2CntrStartY;VVVVY1=VVVVY1+(PnchZmTch2CntrChangingY-PnchZmSwprActvImgCntrY)/PnchZmSwprActvImgHght1*(PnchZmSwprActvImgHght2-PnchZmSwprActvImgHght1);VVVVY2=-VVVVY1+PnchZmTch2CntrDistanceY ;PnchZmSwprActvImgWdth1=PnchZmSwprActvImgWdth2;PnchZmSwprActvImgHght1=PnchZmSwprActvImgHght2;MsmvX3=VVVVX2;MsmvY3=VVVVY2;SwprActvZmDv.style.setProperty("transform","translate("+VVVVX2+"px,"+VVVVY2+"px)")},{passive:false});QsHtml.addEventListener('touchend',(e)=>{if(PnchzmMv!=true)return;if(ZmScl<=1){ZmScl=1;SwprActvImg.style.setProperty("transition","333ms","important");setTimeout(function(){SwprActvZmDv.style.removeProperty("transition");SwprActvImg.style.removeProperty("transition")},333);LightboxSwiper.allowSlideNext=true;LightboxSwiper.allowSlidePrev=true;if(SLbZmMvMsDrg==false){LightboxSwiper.allowSlideNext=false;LightboxSwiper.allowSlidePrev=false;SwprActvReDclrtn();ZmRtrnX=false;ZmRtrnY=false;ZmScl=((ZmScl-0.5)*100)/100;if(ZmScl<1){ZmScl=1};SwprActvImg.style.setProperty("transform","scale("+ZmScl+")");SAVESCL=ZmScl ;if(ZmScl>1){LightboxSwiper.allowSlideNext=false;LightboxSwiper.allowSlidePrev=false}else{LightboxSwiper.allowSlideNext=true;LightboxSwiper.allowSlidePrev=true};if(ZmScl==1){SLbZmXYRst();setTimeout(function(){SwprActvZmDv.style.setProperty("transition","333ms");SwprActvZmDv.style.setProperty("transform","translate(0px,0px)")},1);setTimeout(function(){SwprActvZmDv.style.removeProperty("transition")},333)}}};SwprActvImg.style.setProperty("transform","scale("+ZmScl+")");SAVESCL=ZmScl;setTimeout(function(){PnchzmStrt=false;PnchzmMv=false},1)})}